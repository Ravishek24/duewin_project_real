'use strict';

module.exports = {
  async up(queryInterface, Sequelize) {
    // First, delete all existing records
    await queryInterface.bulkDelete('rebate_levels', null, {});
    // Then insert the new records with correct lottery and casino rebate ratios
    await queryInterface.bulkInsert('rebate_levels', [
      // L0
      {
        level: 0,
        required_exp: 0,
        rebate_percentage: 0.00,
        min_team_members: 0,
        min_team_betting: 0.00,
        min_team_deposit: 0.00,
        lottery_l1_rebate: 0.006,
        lottery_l2_rebate: 0.0018,
        lottery_l3_rebate: 0.00054,
        lottery_l4_rebate: 0.000162,
        lottery_l5_rebate: 0.0000486,
        lottery_l6_rebate: 0.00001458,
        casino_l1_rebate: 0.003,
        casino_l2_rebate: 0.0009,
        casino_l3_rebate: 0.00027,
        casino_l4_rebate: 0.000081,
        casino_l5_rebate: 0.0000243,
        casino_l6_rebate: 0.00000729,
        created_at: new Date(),
        updated_at: new Date()
      },
      // L1
      {
        level: 1,
        required_exp: 1000,
        rebate_percentage: 0.50,
        min_team_members: 5,
        min_team_betting: 500000.00,
        min_team_deposit: 100000.00,
        lottery_l1_rebate: 0.007,
        lottery_l2_rebate: 0.00245,
        lottery_l3_rebate: 0.0008575,
        lottery_l4_rebate: 0.00030012,
        lottery_l5_rebate: 0.00010504,
        lottery_l6_rebate: 0.00003677,
        casino_l1_rebate: 0.0035,
        casino_l2_rebate: 0.001225,
        casino_l3_rebate: 0.00042875,
        casino_l4_rebate: 0.00015006,
        casino_l5_rebate: 0.00005252,
        casino_l6_rebate: 0.00001838,
        created_at: new Date(),
        updated_at: new Date()
      },
      // L2
      {
        level: 2,
        required_exp: 5000,
        rebate_percentage: 1.00,
        min_team_members: 10,
        min_team_betting: 1000000.00,
        min_team_deposit: 200000.00,
        lottery_l1_rebate: 0.0075,
        lottery_l2_rebate: 0.002815,
        lottery_l3_rebate: 0.00105469,
        lottery_l4_rebate: 0.00039551,
        lottery_l5_rebate: 0.00014832,
        lottery_l6_rebate: 0.00005562,
        casino_l1_rebate: 0.0035,
        casino_l2_rebate: 0.001225,
        casino_l3_rebate: 0.00042875,
        casino_l4_rebate: 0.00015006,
        casino_l5_rebate: 0.00005252,
        casino_l6_rebate: 0.00001838,
        created_at: new Date(),
        updated_at: new Date()
      },
      // L3
      {
        level: 3,
        required_exp: 10000,
        rebate_percentage: 1.50,
        min_team_members: 15,
        min_team_betting: 2500000.00,
        min_team_deposit: 500000.00,
        lottery_l1_rebate: 0.008,
        lottery_l2_rebate: 0.0032,
        lottery_l3_rebate: 0.00128,
        lottery_l4_rebate: 0.000512,
        lottery_l5_rebate: 0.0002048,
        lottery_l6_rebate: 0.00008192,
        casino_l1_rebate: 0.004,
        casino_l2_rebate: 0.0016,
        casino_l3_rebate: 0.00064,
        casino_l4_rebate: 0.000256,
        casino_l5_rebate: 0.0001024,
        casino_l6_rebate: 0.00004096,
        created_at: new Date(),
        updated_at: new Date()
      },
      // L4
      {
        level: 4,
        required_exp: 20000,
        rebate_percentage: 2.00,
        min_team_members: 20,
        min_team_betting: 3500000.00,
        min_team_deposit: 700000.00,
        lottery_l1_rebate: 0.0085,
        lottery_l2_rebate: 0.0036125,
        lottery_l3_rebate: 0.00153531,
        lottery_l4_rebate: 0.00065251,
        lottery_l5_rebate: 0.00027732,
        lottery_l6_rebate: 0.00011786,
        casino_l1_rebate: 0.00425,
        casino_l2_rebate: 0.00180625,
        casino_l3_rebate: 0.000767625,
        casino_l4_rebate: 0.000322625,
        casino_l5_rebate: 0.00013866,
        casino_l6_rebate: 0.00005893,
        created_at: new Date(),
        updated_at: new Date()
      },
      // L5
      {
        level: 5,
        required_exp: 50000,
        rebate_percentage: 2.50,
        min_team_members: 25,
        min_team_betting: 5000000.00,
        min_team_deposit: 1000000.00,
        lottery_l1_rebate: 0.009,
        lottery_l2_rebate: 0.00405,
        lottery_l3_rebate: 0.0018225,
        lottery_l4_rebate: 0.00082012,
        lottery_l5_rebate: 0.00036906,
        lottery_l6_rebate: 0.000116608,
        casino_l1_rebate: 0.0045,
        casino_l2_rebate: 0.002025,
        casino_l3_rebate: 0.00091125,
        casino_l4_rebate: 0.00041006,
        casino_l5_rebate: 0.00018453,
        casino_l6_rebate: 0.00008304,
        created_at: new Date(),
        updated_at: new Date()
      },
      // L6
      {
        level: 6,
        required_exp: 100000,
        rebate_percentage: 3.00,
        min_team_members: 30,
        min_team_betting: 10000000.00,
        min_team_deposit: 2000000.00,
        lottery_l1_rebate: 0.01,
        lottery_l2_rebate: 0.005,
        lottery_l3_rebate: 0.0025,
        lottery_l4_rebate: 0.00125,
        lottery_l5_rebate: 0.000625,
        lottery_l6_rebate: 0.00055361,
        casino_l1_rebate: 0.005,
        casino_l2_rebate: 0.0025,
        casino_l3_rebate: 0.00125,
        casino_l4_rebate: 0.000625,
        casino_l5_rebate: 0.0003125,
        casino_l6_rebate: 0.00015625,
        created_at: new Date(),
        updated_at: new Date()
      },
      // L7
      {
        level: 7,
        required_exp: 200000,
        rebate_percentage: 3.50,
        min_team_members: 100,
        min_team_betting: 100000000.00,
        min_team_deposit: 20000000.00,
        lottery_l1_rebate: 0.011,
        lottery_l2_rebate: 0.00605,
        lottery_l3_rebate: 0.0033275,
        lottery_l4_rebate: 0.00183013,
        lottery_l5_rebate: 0.00100657,
        lottery_l6_rebate: 0.00055361,
        casino_l1_rebate: 0.0055,
        casino_l2_rebate: 0.003025,
        casino_l3_rebate: 0.00166375,
        casino_l4_rebate: 0.00091506,
        casino_l5_rebate: 0.00050328,
        casino_l6_rebate: 0.00027681,
        created_at: new Date(),
        updated_at: new Date()
      },
      // L8
      {
        level: 8,
        required_exp: 500000,
        rebate_percentage: 4.00,
        min_team_members: 500,
        min_team_betting: 500000000.00,
        min_team_deposit: 100000000.00,
        lottery_l1_rebate: 0.012,
        lottery_l2_rebate: 0.0072,
        lottery_l3_rebate: 0.00432,
        lottery_l4_rebate: 0.002592,
        lottery_l5_rebate: 0.0015552,
        lottery_l6_rebate: 0.00093312,
        casino_l1_rebate: 0.006,
        casino_l2_rebate: 0.0036,
        casino_l3_rebate: 0.00216,
        casino_l4_rebate: 0.001296,
        casino_l5_rebate: 0.0007776,
        casino_l6_rebate: 0.00046656,
        created_at: new Date(),
        updated_at: new Date()
      },
      // L9
      {
        level: 9,
        required_exp: 1000000,
        rebate_percentage: 4.50,
        min_team_members: 1000,
        min_team_betting: 1000000000.00,
        min_team_deposit: 200000000.00,
        lottery_l1_rebate: 0.013,
        lottery_l2_rebate: 0.00845,
        lottery_l3_rebate: 0.0054925,
        lottery_l4_rebate: 0.00377013,
        lottery_l5_rebate: 0.00232058,
        lottery_l6_rebate: 0.00150838,
        casino_l1_rebate: 0.0065,
        casino_l2_rebate: 0.004225,
        casino_l3_rebate: 0.00274625,
        casino_l4_rebate: 0.00178506,
        casino_l5_rebate: 0.00116029,
        casino_l6_rebate: 0.00075419,
        created_at: new Date(),
        updated_at: new Date()
      },
      // L10
      {
        level: 10,
        required_exp: 2000000,
        rebate_percentage: 5.00,
        min_team_members: 5000,
        min_team_betting: 1500000000.00,
        min_team_deposit: 300000000.00,
        lottery_l1_rebate: 0.014,
        lottery_l2_rebate: 0.0098,
        lottery_l3_rebate: 0.00868,
        lottery_l4_rebate: 0.004802,
        lottery_l5_rebate: 0.0033614,
        lottery_l6_rebate: 0.00235298,
        casino_l1_rebate: 0.007,
        casino_l2_rebate: 0.0049,
        casino_l3_rebate: 0.00343,
        casino_l4_rebate: 0.002401,
        casino_l5_rebate: 0.0016807,
        casino_l6_rebate: 0.00117649,
        created_at: new Date(),
        updated_at: new Date()
      }
    ]);
  },

  async down(queryInterface, Sequelize) {
    await queryInterface.bulkDelete('rebate_levels', {
      level: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    });
  }
}; 